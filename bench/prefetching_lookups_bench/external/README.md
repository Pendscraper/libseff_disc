Based on a talk by Gor Nishanov

From https://github.com/GorNishanov/await
